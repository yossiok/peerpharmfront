<div class="form-group row" style=" width: 100%;">
  <div class="col-2">
      <input placeholder="Search by item name" (change)="changeText($event,'itemName')" class="form-control" />
  </div>
  <div class="col-2">
      <input placeholder="Search batch by number" (change)="changeText($event,'batchNumber')" class="form-control" >
  </div>
  <div class="col-8">
    <div class="row">
        <label class="col-6" style="background:none; text-align: right; line-height: 3">Export to Excel: </label>
        <input  class="form-control col-3" type="text" [(ngModel)]="lastBatchToExport" placeholder="Enter batch number">
        <button class="btn col-1" (click)="filterBatchesBiggerThenBatchN()" class="btn col-3" style="background: none;" data-toggle="tooltip" title="get excel of all batches produced sience the entered batch number">
          <img src="../../../assets/images/excel.png" alt="excel export" style="width: 35px; float: left;" >
        </button>
    </div>
  </div>
</div>
<br>
<!-- &nbsp;&nbsp; <input *ngIf="!hasMoreItemsToload" matInput  placeholder="Item name" (change)="changeText($event)" /> -->
<!-- <div *ngIf="batches.length==0">
  <img  style="width:50px" src="../../../assets/images/motosha-spinner-load.gif" /><span><b>loading more batches...</b></span>
  <br/> 
</div> -->
<div style="position: relative;">
    <span style=" position: absolute; bottom: 10px;">
      <b>showing {{batches.length}} batches</b>
    </span>
    <!-- <span style=" float: right;">
    <img src="../../../assets/images/add.png" style="width: 60px; cursor: pointer; " alt="Adding Batch"
    (click)="addNewBatch()"> 
    </span>     -->
</div>
<div>

    <table class='table table-fixed'>
      <tr></tr>
        <thead class='bg-info text-white'>
          <tr>
            <td style="width:5%;"></td>
            <td>Batch Number</td>
            <td style="width:15%;">Production Date</td>
            <td>Item Name</td>
            <td>P.h</td>
            <td>Produced/Left</td>
            <td>Durms</td>
            <td>Order</td>
            <td>Item</td>
            <td></td>
          </tr>
        </thead>
        <ng-container *ngFor="let batch of batches; let i = index">
          <tr [style.background-color]="batch.color">
            <td style="width:5%;">{{i+1}}</td>
            
            <td *ngIf="batch._id!==EditRowId" (click)="edit(batch._id)">{{batch.batchNumber}}</td>
            <td *ngIf="batch._id===EditRowId">
                <input #batchNumber type='text' [value]="batch.batchNumber" style='width:170px'>
            </td>

            <td *ngIf="batch._id!==EditRowId" (click)="edit(batch._id)">{{batch.produced}}</td>
            <td *ngIf="batch._id===EditRowId">
                <input #batchNumber type='text' [value]="batch.produced" style='width:170px'>
            </td>

            <td style="width:15%;">{{batch.itemName}}</td>
            <td>{{batch.ph}}</td>
            <td>{{batch.weightKg}} / {{batch.weightQtyLeft}}</td>
            <td>{{batch.drumsN}}</td>
            <td style="word-break: break-word;">{{batch.order}}</td>
            <td style="word-break: break-word;">{{batch.item}}</td>
            <td><i class="ti-trash text-danger m-r-10"   (click)="deleteBatch(batch)"></i></td>
          </tr>
        </ng-container>
      </table>
</div>

<!-- ADD BATCH MODAL -->


