<!-- <button (click)="exportToExcel()">excelWithoutBoxOrStickerFields</button> -->
<div  *ngIf="!hasMoreItemsToload">
  <input matInput  placeholder="Search item name" (change)="changeText($event)" /> &nbsp;
  <button style="float: right; background: none;" (click)="getCurrListToExcel()"   data-toggle="tooltip" title="get cuurent item list">
    <label style="float: right; line-height: 30px; margin-left: 5px"><b>Export List</b></label>
    <img src="../../../assets/images/excel.png" alt="excel export" style="width: 35px; float: right;" >
  </button>

</div>

<!-- &nbsp;&nbsp; <input *ngIf="!hasMoreItemsToload" matInput  placeholder="Item name" (change)="changeText($event)" /> -->
<div  *ngIf="hasMoreItemsToload">
  <img  style="width:50px" src="http://avacdn.com/wp-content/uploads/2018/05/motosha-spinner.gif" /><span><b>loading more items...</b></span>
  <br/> 
</div>
<span><b>showing {{items.length}} items</b></span>
<table class='table table-fixed'>
<thead class='tableHeader text-white'>

  <tr>
    <th style="width:5%;" ></th>
    <th style="width:10%; padding:5px">Item number</th>
    <th style="width:23%; padding:5px">Name</th>
    <th style="padding:5px">Sticker</th>
    <th style="padding:5px">Barcode</th>
    <th style="padding:5px">Limited License</th>
    <th style="padding:5px">licsense Number</th>
    <th style="padding:5px">licsense Date</th>
    <th style="width:6%; padding:5px">Pallet 1</th>
    <th style="width:6%; padding:5px">Pallet 2</th>
    <th style="width:6%; padding:5px">Pallet 3</th>
    <!-- <th style="padding:5px">Pallet 2</th>
    <th style="padding:5px">Pallet 3</th> -->

  </tr>
</thead>
<tbody id="table_body">
  <tr style="box-shadow: inset 1px -1px 2px 0px black; margin-top: 1px;" *ngFor="let item of items; let i=index">
    <td style="width:5%;">{{i+1}}</td>
    <td style="width:10%;">
      <a target="_blank"  routerLink="/peerpharm/items/itemDetails/{{item.itemNumber}}">
        {{item.itemNumber}}
      </a>
    </td>
    <td style="width:25%;">{{item.itemFullName}}</td>
    <td style="word-wrap:normal">{{item.stickerNumber}}<br><span style="word-break: break-word;">{{item.StickerLanguageK}}</span></td>
    <td style="word-wrap: break-word;">{{item.barcodeK}}</td>
    <td>
          <img *ngIf="item.licenceItemsQuotaLimit && (item.licenceItemsQuotaLimit < item.licenceCurrItemsQnt)" style="width: 25px; height: 25px;" src="../../../../assets/images/alert2.png" alt="">
          <!-- <input *ngIf="item.licenceItemsQuotaLimit" [(ngModel)]="item.licenceHasItemsQuotaLimition" type="checkbox" (change)="updateLicenseQuotaLimitation($event,item.itemNumber,item.licsensNumber,item.licenceCurrItemsQnt,item.licenceExprationDate, item.licenceFileLink,item.licenceLastUpdateDate, item.licenceLastUpdateUser, item.licenceNotifaction)" style="float: right; width:45%;"> -->
          <input *ngIf="item.licenceItemsQuotaLimit" [(ngModel)]="item.licenceItemsQuotaLimit" type="number" style="width: 65px; float: left;" (focusout)="updateLicenseQuotaLimitation($event,item.itemNumber,item.licsensNumber, item.licenceCurrItemsQnt,item.licenceExprationDate, item.licenceFileLink,item.licenceLastUpdateDate, item.licenceLastUpdateUser, item.licenceNotifaction)" min="1">
          <!-- <input *ngIf="!item.licenceItemsQuotaLimit" type="checkbox" (change)="updateLicenseQuotaLimitation($event,item.itemNumber,item.licsensNumber,item.licenceCurrItemsQnt,item.licenceExprationDate, item.licenceFileLink,item.licenceLastUpdateDate, item.licenceLastUpdateUser, item.licenceNotifaction)" style="float: right; width:45%;"> -->
          <input *ngIf="!item.licenceItemsQuotaLimit" type="number" style="width: 65px; float: left;" (focusout)="updateLicenseQuotaLimitation($event,item.itemNumber,item.licsensNumber,item.licenceCurrItemsQnt,item.licenceExprationDate, item.licenceFileLink,item.licenceLastUpdateDate, item.licenceLastUpdateUser, item.licenceNotifaction)" min="1">    
    </td>
    <td>{{item.licsensNumber}}</td>
    <td>{{item.licsensDate}}</td>
    <td style="width:6%;">{{item.pallet}}</td>
    <td style="width:6%;">{{item.pallet2}}</td> 
    <td style="width:6%;">{{item.pallet3}}</td> 
    <!-- <td>{{item.pallet2}}</td>
    <td>{{item.pallet3}}</td> -->
   
  </tr>
</tbody>
</table>