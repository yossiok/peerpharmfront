
{{today}}<br>
<input  type ='date' #date [(ngModel)]='today'  (change)="dateChanged(date.value)">
<button class='btn btn-info' (click)="filterSchedule()">Filter</button>
<br><br>
    <div (click)='setType("basic", this)' [ngStyle]="{'background-color': buttonColor}">General</div>
    <div (click)='setType("tube", this)' [ngStyle]="{'background-color': buttonColor2}">Tubes</div>
    <div (click)='setType("mkp", this)' [ngStyle]="{'background-color': buttonColor3}">Make Up</div>
 
<table class='table'>
  <thead class='bg-success text-white'>
  <tr align='center'>
      <th><b>P</b></th>
      <th><b>Order</b></th>
      <th><b>Item</b></th>
      <th><b>Costumer</b></th>
      <th><b>Name of product</b></th>
      <th><b>Batch number</b></th>
      <th><b>Package</b></th>
      <th colspan=2><b>Qty</b></th>
      <th><b>Date</b></th>
      <th><b>Remarks</b></th>
      <th class='printlessTd'><b>shift</b></th>
      <th class='printlessTd'><b>Mkp</b></th>
<th class='printlessTd'></th>
  </tr> 

  </thead>
  
  <tr id='inputTr' (click)="EditRowId=0">
    <td><input type='text' id="input_position" [(ngModel)]="scheduleLine.positionN" style='width:20px'	 class='form-control'></td>
    <td><input type='text' id="input_order"  [(ngModel)]="scheduleLine.orderN" style='width:60px' #orderN  (focusout)="setOrderDetails(orderN.value)"   class='form-control'></td>
     <td><input type='text' id="input_item" style='width:90px' [(ngModel)]="scheduleLine.item" #itemN (focusout)="setItemDetails(itemN.value)" class='form-control'></td>
     <td><input type='text' id="input_costumer" style='width:80px' [(ngModel)]="scheduleLine.costumer" class='form-control' ></td>
     <td><input type='text' id="input_productName" class='form-control' style='width:300px' [(ngModel)]="scheduleLine.productName"></td>
     <td><input type='text' id="input_batchN" [(ngModel)]="scheduleLine.batch" style='width:110px' class='form-control'></td>
     <td><textarea rows='1' cols='20' id='input_package'   [(ngModel)]="scheduleLine.packageP"  class='form-control'></textarea></td>
     <td  colspan=2><input type='text' id="input_Qty" style='width:60px' [(ngModel)]="scheduleLine.qty" class='form-control'></td>
     <td><input type='date' id="input_Date" style='width:150px; font-size:13px' [(ngModel)]="scheduleLine.date" class='form-control'></td>			 
     <td><textarea rows='1' cols='30' id='input_marks'  style='width:150px' [(ngModel)]="scheduleLine.marks" class='form-control'></textarea></td>
     <td class='printlessTd'><select id="select_shift"  [(ngModel)]="scheduleLine.shift"><option value="Day">Day</option><option value="Night">Night</option></select></td>
      <td class='printlessTd' style='width:107px'>
      <input type="radio"  name="type"   value='basic' checked='checked'  [(ngModel)]="scheduleLine.mkp" >Basic<br>
      <input type="radio"  name="type"   value='tube' [(ngModel)]="scheduleLine.mkp">Tube<br>
      <input type="radio"  name="type"   value='mkp' [(ngModel)]="scheduleLine.mkp">Mkp<br>
    </td>
      <td class='printlessTd'><button class="btn btn-info " (click)="writeScheduleData()" >Add</button><br>
      </td>
</tr>

<tbody id="table_body">
    <tr *ngFor = "let line of scheduleData"  [style.background-color]="line.color" >
      <ng-container  *ngIf='line !== undefined  && line.mkp===typeShown'>
        <td *ngIf="line._id!==EditRowId"  (click)="edit(line._id)">{{line.positionN}}</td>
        <td *ngIf="line._id===EditRowId"><input #id type='hidden' [value]="line._id" ><input #position type='text' [value]="line.positionN"  style='width:50px' class='form-control'></td>
        <td  *ngIf="line._id!==EditRowId" (click)="edit(line._id)">{{line.orderN}}</td>
        <td *ngIf="line._id===EditRowId"><input #orderNum type='text' [value]="line.orderN"  style='width:50px' class='form-control'></td>
        <td *ngIf="line._id!==EditRowId"  (click)="edit(line._id)">{{line.item}}</td>
        <td *ngIf="line._id===EditRowId"><input #item type='text'   [value]="line.item"    style='width:80px' class='form-control'></td>
        <td  *ngIf="line._id!==EditRowId" (click)="edit(line._id)">{{line.costumer}}</td>
        <td *ngIf="line._id===EditRowId"><input #costumer type='text' [value]="line.costumer"  style='width:50px' class='form-control'></td>
        <td  *ngIf="line._id!==EditRowId" (click)="edit(line._id)">{{line.productName}}</td>
        <td *ngIf="line._id===EditRowId"><input #productName type='text' [value]="line.productName"  style='width:300px' class='form-control'></td>
        <td  *ngIf="line._id!==EditRowId" (click)="edit(line._id)">{{line.batch}}</td>
        <td *ngIf="line._id===EditRowId"><input #batch type='text' [value]="line.batch"  style='width:90px' class='form-control'></td>
        <td *ngIf="line._id!==EditRowId"  (click)="edit(line._id)">{{line.packageP | slice:0:20}}</td>
        <!--<td *ngIf="line._id===EditRowId"><input #packageP type='text' [value]="line.packageP"  style='width:150px'></td>-->
        <td *ngIf="line._id===EditRowId"><textarea rows='1' cols='30' id='input_marks' #packageP style='width:160px' [value]="line.packageP" class='form-control'></textarea></td>
        <td  *ngIf="line._id!==EditRowId" (click)="edit(line._id)">{{line.qty}}</td>
        <td *ngIf="line._id===EditRowId"><input #qty type='text' [value]="line.qty"  style='width:60px' class='form-control'></td>
        <td></td>

        
        <td *ngIf="line._id!==EditRowId"  (click)="edit(line._id)">{{line.date | date: 'dd/MM/yyyy'}}</td>
        <td *ngIf="line._id===EditRowId"><input #aaaa type='date' [value]="line.date3"  style='width:140px' class='form-control'></td>


        <td  *ngIf="line._id!==EditRowId" (click)="edit(line._id)">{{line.marks}}</td>
        <td *ngIf="line._id===EditRowId"><textarea rows='1' cols='30'  #marks type='text' [value]="line.marks"  style='width:150px' class='form-control'></textarea></td>
        <td *ngIf="line._id!==EditRowId"  (click)="edit(line._id)">{{line.shift}}</td>
        <td *ngIf="line._id===EditRowId"><input #shift type='text' [value]="line.shift"  style='width:50px' class='form-control'></td>
        <td  *ngIf="line._id!==EditRowId" (click)="edit(line._id)">{{line.mkp}}</td>
        <!--<td *ngIf="line._id===EditRowId"><input #mkp type='text' [value]="line.mkp"  style='width:50px' class='form-control'></td>-->
        <td *ngIf="line._id===EditRowId">
            <input type="radio"  name="typeEdit"   value='basic' [checked]="line.mkp === 'basic'"    >Basic<br>
            <input type="radio"  name="typeEdit"   value='tube'  [checked]="line.mkp === 'tube'" >Tube<br>
            <input type="radio"  name="typeEdit"   value='mkp'   [checked]="line.mkp === 'mkp'" >Mkp<br>
        </td>
        <td *ngIf="line._id!==EditRowId">
            <i class="ti-trash text-danger m-r-10"   (click)="deleteLine(line._id)"></i>&nbsp;
            <i class="ti-check text-success m-r-10"  (click)='setDone()' ></i>
            <input type="checkbox" [(ngModel)]="line.isSelected" *ngIf="line._id!==EditRowId">
        </td>
        <td *ngIf="line._id===EditRowId"> <i class="ti-save text-success m-r-10"   (click)="updateSchedule()"></i></td>
    </ng-container>
    </tr>
</tbody>
</table>

