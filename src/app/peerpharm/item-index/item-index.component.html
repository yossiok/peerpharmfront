<!--Item Movements-->
<div class="row mt-4 text-center">
  <h3 class="text-center mx-auto">Item Movements</h3>
</div>
<form [formGroup]="itemMovementForm" (ngSubmit)="fetchMovements()">
  <div class="row border border-secondary rounded p-4 w-75 form-group mx-auto">
    <div class="col-1">
      item type
      <select formControlName="itemType" class="form-control">
        <option value="all">all</option>
        <option value="component">component</option>
        <option value="material">material</option>
        <option value="product">product</option>
      </select>
    </div>
    <div *ngIf="itemMovementForm.value.itemType == 'component'" class="col-1">
      component type
      <select formControlName="componentType" class="form-control">
        <option value="skip">Filter by Items</option>
        <option value='bottle_Glass'>בקבוק זכוכית</option>
        <option value='bottle_Plastic'>בקבוק פלסטיק</option>
        <option value='jar_Glass'>צנצנת זכוכית</option>
        <option value='jar_Plastic'>צנצנת פלסטיק</option>
        <option value='cap'>פקק</option>
        <option value='cover'>מכסה</option>
        <option value='pump'>משאבה</option>
        <option value='cosmetic_pump'>משאבה קוסמטית</option>
        <option value='over_cap'>מכסה עילי</option>
        <option value='tube'>שפורפרת</option>
        <option value='colons'>קולונים</option>
        <option value='hair_life'>היירלייפ</option>
        <option value='compacts'>קומפקטים</option>
        <option value='personal_package'>אריזות אישיות</option>
        <option value='master_carton'>קרטוני מאסטר</option>
        <option value='newsletter'>עלון לצרכן</option>
        <option value='irosol_valve'>אירוסול- שסתום</option>
        <option value='irosol_bottle'>איירוסול- בקבוק</option>
        <option value='irosol_hectotor'>אירוסול- הקטאטור</option>
        <option value='irosol_bottle'>איירוסול- בקבוק</option>
        <option value='cellophane'>צלופן</option>
        <option value='sticker'>מדבקה</option>
        <option value='sachet'>סאשט</option>
      </select>
    </div>
    <div class="col-1">
      item numbers
      <ng-container *ngFor="let item of itemMovementForm.value.itemNumbers; let i = index">
        <input (change)="setItemNumber(i, $event)" [value]="itemMovementForm.value.itemNumbers[i]" class="form-control"
          type="text">
        <button type="button" (click)="itemMovementForm.value.itemNumbers.push('')">+</button>
        <button *ngIf="i > 0" type="button" (click)="itemMovementForm.value.itemNumbers.pop()">-</button>
      </ng-container>
    </div>

    <div class="col-1">
      <p>from</p>
      <input formControlName="fromDate" class="form-control" type="date">
    </div>
    <div class="col-1">
      <p>to</p>
      <input formControlName="toDate" class="form-control" type="date">
    </div>
    <div class="col-1">
      movement type
      <select formControlName="movementType" class="form-control">
        <option value="all">all</option>
        <option value="in">in</option>
        <option value="out">out</option>
        <option value="production">production</option>
        <option value="shelfChange">Shelf Change</option>
      </select>
    </div>
    <!-- <div class="col-1">
      price
      <input formControlName="price" class="form-control" type="number">
      <select formControlName="priceDir" class="form-control">
        <option value="higherThan">Higher than</option>
        <option value="lowerThan">Lower than</option>
      </select>
    </div> -->
    <div class="col-1">
      amounts
      <input formControlName="amount" class="form-control" type="number">
      <select formControlName="amountDir" class="form-control">
        <option value="higherThan">Higher than</option>
        <option value="lowerThan">Lower than</option>
      </select>
    </div>
    <div class="col-1">
      <button type="submit" class="btn btn-primary">Go.</button>
    </div>
    <div class="col-1">
      <button type="button" class="btn btn-secondary" (click)="itemMovementForm.reset()">Clear</button>
    </div>
  </div>
</form>

<div class="row mt-2">
</div>

<div class="row mt-4 w-75 mx-auto">
  <table class="table table-hover">
    <thead class="text-info text-center">
      <tr>
        <th class="click" (click)="sortBy('customerOrders', 'orderNumber')">
          Date
        </th>
        <th class="click" (click)="sortBy('customerOrders', 'orderDate')">
          movement type
        </th>
        <th class="click" (click)="sortBy('customerOrders', 'itemNumber')">
          item
        </th>
        <th class="click" (click)="sortBy('customerOrders', 'itemName')">
          whare house
        </th>
        <th class="click" (click)="sortBy('customerOrders', 'amount')">
          amount
        </th>
        <th class="click" (click)="sortBy('customerOrders', 'amount')">
          user
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let movement of itemMovements">
        <td class="text-center">{{movement.movementDate | date: 'dd/MM/yy'}}</td>
        <td class="text-center">{{movement.movementType}}</td>
        <td class="text-center">{{movement.item}}</td>
        <td class="text-center">{{movement.WH_originName}}</td>
        <td class="text-center">{{movement.amount}}</td>
        <td class="text-center">{{movement.userName}}</td>
      </tr>
    </tbody>
  </table>
</div>







<!--Item Details-->

<!-- <div class="row mt-4">
  <h3>Item Details</h3>
</div>

<div class="row mt-2">
  item type
  <select>
    <option value="component">component</option>
    <option value="material">material</option>
    <option value="product">product</option>
  </select>
  item number
  <input type="text">
  <button class="btn">Go.</button>
</div> -->




<!-- 
<div class="row mt-2">



    <div style="top:20px;" class="container bg-light rounded fixed-top shadow mx-auto my-auto border border-success">
          <div class="container modal-inner">
            <div class="row text-center">
              <div class="col-4 text-right">
                <button class="btn btn-success form-control" (click)="switchModalView()">{{itemmoveBtnTitle}}</button>
              </div>
              <div class="col-4 ">
                <h2 class="text-success" id='div_h3'>{{openModalHeader}}</h2><br>
              </div>
              <div class="col-4 ">
                <span class="close text-success" id="closeId2"
                  (click)="openModal=false;newItem='';lastOrdersOfItem = []">&times;</span>
              </div>
            </div>

            <div class="row text-center ">
              <div class="col-1"></div>

              <div class="col-8">
                <input class="form-control" type="text" [(ngModel)]="resCmpt.componentName">
              </div>
              <div class="col-2">
                <label class="form-control">שם פריט</label>
              </div>
              <div class="col-1"></div>
            </div>

            <div dir="rtl" class="row text-center ">
              <div class="col-4 ">
                <h5 class="text-success">פרטי פריט</h5>
              </div>
              <div class="col-4 ">
                <h5 class="text-success">פרטי ספק</h5>
              </div>
              <div class="col-4">
                <h5 class="text-success">פרטי מלאי</h5>
              </div>
            </div>
            <div dir="rtl" class="row text-center">
              <div class="col-2">
                <label class="form-control">מספר פריט</label>

                <label class="form-control">שם קומקס</label>
                <label class="form-control">פריט חלופי</label>
                <label class="form-control">מחיר אחרון (שקלים)</label>
                <label class="form-control">מחיר העמסה (שקלים)</label>
              </div>
              <div class="col-2">
                <input (change)="checkIfItemExist($event)" class="form-control" type='text'
                  [(ngModel)]="resCmpt.componentN">

                <input class="form-control" type="text" [(ngModel)]="resCmpt.comaxName">
                <input class="form-control" type="text" [(ngModel)]="resCmpt.alternativeComponent">
                <input class="form-control" type="number" [(ngModel)]="resCmpt.finalPrice" maxlength="6" max="6">
                <input class="form-control" type="text" [(ngModel)]="resCmpt.price">
                <input class="form-control" type="number" [(ngModel)]="resCmpt.shippingPrice">

              </div>
              <div class="col-2">
                <label class="form-control">מספר ספק</label>
                <label class="form-control">מק"ט ספק</label>
                <label class="form-control">מחיר ספק</label>
              </div>
              <div class="col-2">
                <input class="form-control" list="suppliers" type='text' (change)="fillSupplierDetails()"
                  [(ngModel)]="resCmpt.suplierN">
                <datalist id="suppliers">
                  <option *ngFor="let supplier of allSuppliers" value="{{supplier.suplierName}}">
                    {{supplier.suplierNumber}}
                  </option>
                </datalist>
                <input class="form-control" type='text' [(ngModel)]="resCmpt.componentNs">
                <input class="form-control" type='text' [(ngModel)]="resCmpt.price">
              </div>
              <div class="col-2">
                <label class="form-control">מלאי מינימום</label>
              </div>
              <div class="col-2">
                <input class="form-control" type='number' [(ngModel)]="resCmpt.minimumStock">
              </div>
              <div class="col-2">
                <label class="form-control">כמות מינימלית להזמנה</label>
              </div>
              <div class="col-2">
                <input class="form-control" type='number' [(ngModel)]="resCmpt.minimumPurchaseAmount">
              </div>
            </div>

            <div dir="rtl" class="row text-center">
              <div class="col-4">
                <h5 class="text-success">פרטים נוספים</h5>
              </div>
              <div class="col-4">
                <h5 class="text-success">הערות</h5>
              </div>
              <div class="col-4">
                <h5 class="text-success">תמונה</h5>
              </div>
            </div>

            <div dir="rtl" class="row text-center">
              <div class="col-2">
                <label class="form-control">קטגוריה</label>
                <label class="form-control">מותג</label>
                <label class="form-control">משקל/סוג</label>
                <label class="form-control">יח' מידה</label>
                <label class="form-control">כמות מל'</label>
                <label class="form-control">על חשבון</label>
                <label class="form-control">רשימת לקוחות</label>
              </div>
              <div class="col-2">
                <select class="form-control" [(ngModel)]="resCmpt.componentType">
                  <option value='bottle_Glass'>בקבוק זכוכית</option>
                  <option value='bottle_Plastic'>בקבוק פלסטיק</option>
                  <option value='jar_Glass'>צנצנת זכוכית</option>
                  <option value='jar_Plastic'>צנצנת פלסטיק</option>
                  <option value='cap'>פקק</option>
                  <option value='cover'>מכסה</option>
                  <option value='pump'>משאבה</option>
                  <option value='cosmetic_pump'>משאבה קוסמטית</option>
                  <option value='over_cap'>מכסה עילי</option>
                  <option value='tube'>שפורפרת</option>
                  <option value='colons'>קולונים</option>
                  <option value='hair_life'>היירלייפ</option>
                  <option value='compacts'>קומפקטים</option>
                  <option value='personal_package'>אריזות אישיות</option>
                  <option value='master_carton'>קרטוני מאסטר</option>
                  <option value='newsletter'>עלון לצרכן</option>
                  <option value='irosol_valve'>אירוסול- שסתום</option>
                  <option value='irosol_bottle'>איירוסול- בקבוק</option>
                  <option value='irosol_hectotor'>אירוסול- הקטאטור</option>
                  <option value='irosol_bottle'>איירוסול- בקבוק</option>
                  <option value='cellophane'>צלופן</option>
                  <option value='sticker'>מדבקה</option>
                  <option value='sachet'>סאשט</option>
                  <option value='godett'>גודט</option>
                  <option value='plate'>גלופה</option>
                  <option value='other'>אחר</option>
                </select>

                <select class="form-control" [(ngModel)]="resCmpt.componentCategory">
                  <select #filterByCategory class="form-control" (change)="filterRowsByCmptTypeanCategory($event , 'category')">
                  <option value=""></option>
                  <option *ngFor="let cmptCategory of cmptCategoryList">{{cmptCategory}}</option>
                </select>




                <select class="form-control" [(ngModel)]="resCmpt.packageType">
                  <option value='paperCarton'>נייר/קרטון</option>
                  <option value='drinkCarton'>קרטוניות משקה</option>
                  <option value='transperentGlass'>זכוכית שקופה</option>
                  <option value='colorGlass'>זכוכית צבעונית</option>
                  <option value='pet'>PET</option>
                  <option value='hdpe'>HDPE</option>
                  <option value='ldpe'>LDPE</option>
                  <option value='pp'>PP</option>
                  <option value='ps'>PS</option>
                  <option value='otherPlastic'>פלסטיק אחר</option>
                  <option value='metal'>מתכת</option>
                  <option value='wood'>עץ</option>
                  <option value='otherMaterial'>חומר אחר</option>
                </select>

                <select class="form-control" [(ngModel)]="resCmpt.measurement">
                  <option value="kilogram">kilogram</option>
                  <option value="liter">liter</option>
                  <option value="meter">meter</option>
                  <option value="ml">ml</option>
                  <option value="unit">Unit</option>
                  <option value="ton">טון</option>
                  <option value="unit">יחידה</option>
                  <option value="box">קופסא</option>
                </select>

                <input class="form-control" type="text" [(ngModel)]="resCmpt.actualMlCapacity">
                <select class="form-control" (change)="checkWhoPays($event)" [(ngModel)]="resCmpt.whoPays">
                  <option value="peerpharm">פארפארם</option>
                  <option value="customers">לקוח/לקוחות</option>
                </select><i (click)="customersModal = true" class="form-control fa fa-plus text-success "></i>
                <select class="form-control">
                        <option *ngFor="let customer of resCmpt.payingCustomersList" value="customer">{{customer}}</option>
                  </select>
              </div>
              <div class="col-2">
                <label class="form-control">הערה</label>
                <label class="form-control mt-5">הערה קופצת</label>

              </div>
              <div class="col-2">
                <textarea rows="2" cols="20" class="form-control" type='text' [(ngModel)]="resCmpt.remarks"></textarea>
                <textarea rows="2" cols="20" class="form-control mt-4" type='text'
                  [(ngModel)]="resCmpt.jumpRemark"></textarea>
              </div>

              <div class="col-2">
                <button [disabled]="gettingProducts" [style.cursor]="gettingProducts ? 'not-allowed' : 'pointer'"
                  (click)="getProductsWithItem()">הצג מוצרים שמכילים את הפריט</button>
              </div>

              <div class="col-2 modal-inner border" *ngIf="resCmpt.connectedProducts">
                <div *ngFor="let product of resCmpt.connectedProducts">
                  <h5>{{product.itemNumber}}</h5>
                  <h5>{{product.name}}</h5>
                  <h5>{{product.subName}}</h5>
                  <h5>{{product.discriptionK}}</h5>
                </div>
              </div>

              <div class="col-4">
                <img *ngIf="resCmpt.img!=''" [src]="resCmpt.img" style="max-height: 250px;"
                  class="hoverImg w-25 h-100 border border-success" alt="Item main image please wait ...">
                <p *ngIf="resCmpt.img==''"><b> -No Image- </b></p>
                <input class="form-control" type='file' id="input_itemImgID" (change)='uploadImg($event)'
                  style='display:block'>
                <input class="form-control" type='text' [(ngModel)]="tempHiddenImgSrc" id='tempHiddenImgSrc'
                  style='display:none'>
              </div>
            </div>
            <div class="row text-center">
              <div class="col-6">
                <button class="btn btn-success form-control" id="newCbtn" (click)="writeNewComponent()"
                  *ngIf="newItem=='new'">הקם
                  מוצר</button>

              </div>
              <div class="col-6">
                <div *ngIf="allowUserEditItem">
                  <button class="btn btn-success form-control" id="updateDataBtn" (click)="editStockItemDetails()"
                    *ngIf="newItem!='new'">עדכן
                    מידע</button>
                </div>
              </div>
            </div>
          </div>
          <div class="container modal-inner">

            <div style="padding: 0rem;" class="row text-center">
              <div class="col-1 text-right">
                <button class="btn btn-success form-control" (click)="switchModalView()">{{itemmoveBtnTitle}}</button>
              </div>
              <div class="col-10">
                <h4 class="text-success">ספקים</h4>
              </div>
              <div class="col-1">
                <span class="close text-success" id="closeId2"
                  (click)="openModal=false;newItem='';lastOrdersOfItem = []">&times;</span>
              </div>
            </div>

            <div dir='rtl' class="row border border-success border-bottom-0 text-center">
              <div class="col-1"></div>
              <div class="col-2">
                <label class="form-control">ספק</label>
                <label class="form-control">יצרן</label>
                <label class="form-control">מספר פריט ספק</label>
                <label class="form-control">שם פריט ספק</label>
                <label class="form-control">סוג אריזה</label>
              </div>
              <div class="col-3">
                <input list="suppliers" class="form-control" [(ngModel)]="supplier.supplierName">
                <datalist id="suppliers">
                  <option *ngFor="let supplier of allSuppliers" value="{{supplier.suplierName}}">
                    {{supplier.suplierNumber}}
                  </option>
                </datalist>
                <input type="text" class="form-control" [(ngModel)]="supplier.manufacturer">
                <input [(ngModel)]="supplier.alternativeMaterial" class="form-control" type='text'>
                <input [(ngModel)]="supplier.alterName" class="form-control" type='text'>
                <input list="groups" [(ngModel)]="supplier.subGroup" class="form-control">
                <datalist id="groups">
                  <option value="Cube">קובייה</option>
                  <option value="barrel">חבית</option>
                  <option value="small barrel">חביונית</option>
                  <option value="packaging/cardboard">אריזות/קרטון</option>
                  <option value="plastic barrel">חבית פלסטיק</option>
                  <option value="jerrican">ג'ריקן</option>
                  <option value="bag">שק</option>
                  <option value="bottle barrel">דלי בקבוק</option>
                </datalist>

              </div>
              <div class="col-2">
                <label class="form-control">מחיר</label>
                <label class="form-control">מטבע</label>
                <label class="form-control"> מחיר העמסה (מטבע קניה)</label>
                <label class="form-control">מטבע לאחר טעינה</label>
                <label class="form-control">משקל יחידה</label>
              </div>
              <div class="col-3">
                <input [(ngModel)]="supplier.price" type="text" class="form-control">
                <input list="coins" [(ngModel)]="supplier.coin" class="form-control">
                <datalist id="coins">
                  <option value="usd">USD</option>
                  <option value="nis">NIS</option>
                  <option value="gbp">GBP</option>
                  <option value="eur">EUR</option>
                  <option value="yen">YEN</option>
                </datalist>
                <input [(ngModel)]="supplier.shippingPrice" type="number" class="form-control" />
                <input list="coinsLoading" [(ngModel)]="supplier.coinLoading" class="form-control">
                <datalist id="coinsLoading">
                  <option value="usd">USD</option>
                  <option value="nis">NIS</option>
                  <option value="gbp">GBP</option>
                  <option value="eur">EUR</option>
                  <option value="yen">YEN</option>
                </datalist>
                <input [(ngModel)]="supplier.packageWeight" type="text" class="form-control" />
              </div>
              <div class="col-1"></div>
            </div>

            <div dir='rtl' class="row border border-success border-top-0 text-center">
              <div class="col-12">
                <button (click)="addSupplierToComponent()" class="btn btn-success form-control">הוסף ספק</button>
              </div>
            </div>
            <div dir='rtl' class="row text-center">
              <div class="col-12">
                <table class="table table-striped table-hover">
                  <thead class="bg-success text-white">
                    <tr>
                      <th></th>
                      <th>ספק</th>
                      <th>יצרן</th>
                      <th>שם פריט</th>
                      <th>מספר פריט</th>
                      <th>מחיר</th>
                      <th>מטבע</th>
                      <th>משקל</th>
                      <th>מחיר העמסה (מטבע קניה)</th>
                      <th>מטבע לפני טעינה</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>

                    <ng-container *ngFor="let supplier of resCmpt.alternativeSuppliers;let i = index">

                      <tr [ngClass]="mainSupplier(supplier.isMain)" >

                        <td><button (click)="makeAsMainSupplier(i)" class="btn btn-success">ספק ראשי</button></td>
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          {{supplier.supplierName}}</td>
                        <td *ngIf="EditRowId == supplier.supplierName">
    
                          <input [value]="supplier.supplierName" list="suppliers" class="form-control" #supplierName>
                          <datalist id="suppliers">
                            <option *ngFor="let supplier of allSuppliers" value="{{supplier.suplierName}}">
                              {{supplier.suplierName}}</option>
                          </datalist>
                        </td>
  
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          {{supplier.supplierName}}</td>
                        <td *ngIf="EditRowId == supplier.supplierName">
                          <input type="text" [value]="supplier.supplierName" class="form-control" #supplierName>
                        </td>
  
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          {{supplier.manufacturer}}</td>
                        <td *ngIf="EditRowId == supplier.supplierName">
                          <input type="text" [value]="supplier.manufacturer" class="form-control" #manufacturer>
                        </td>
  
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          {{supplier.alterName}}</td>
                        <td *ngIf="EditRowId == supplier.supplierName">
                          <input type="text" [value]="supplier.alterName" class="form-control" #alterName>
                        </td>
  
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          {{supplier.alternativeMaterial}}</td>
                        <td *ngIf="EditRowId == supplier.supplierName">
                          <input type="text" [value]="supplier.alternativeMaterial" class="form-control"
                            #alternativeMaterial>
                        </td>
  
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          {{supplier.price}}</td>
                        <td *ngIf="EditRowId == supplier.supplierName">
                          <input type="text" [value]="supplier.price" class="form-control" #price>
                        </td>
  
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          {{supplier.coin}}</td>
                        <td *ngIf="EditRowId == supplier.supplierName">
                          <input type="text" [value]="supplier.coin" class="form-control" #coin>
                        </td>
  
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          {{supplier.packageWeight}}</td>
                        <td *ngIf="EditRowId == supplier.supplierName">
                          <input type="text" [value]="supplier.packageWeight" class="form-control" #packageWeight>
                        </td>
  
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          {{supplier.priceLoading}}</td>
                        <td *ngIf="EditRowId == supplier.supplierName">
                          <input type="text" [value]="supplier.priceLoading" class="form-control" #priceLoading>
                        </td>
  
                        <td *ngIf="EditRowId != supplier.supplierName" (click)="editSuppliers(supplier.supplierName)">
                          <span *ngIf="supplier.shippingPrice"> {{supplier.shippingPrice | currency: 'NIS'}}</span>
                        </td>
                        <td *ngIf="EditRowId == supplier.supplierName">
                          <input type="text" [value]="supplier.coinLoading" class="form-control" #coinLoading>
                        </td>
                        <td><i (click)="deleteSupplier(i,resCmpt.componentN)" class="fa fa-times text-danger"></i></td>
                      </tr>

                    </ng-container>
 
                  </tbody>
                </table>
              </div>
            </div>

            <div *ngIf="updateSupplier == true" class="row text-center">
              <div class="col-5">

              </div>
              <div class="col-2">
                <button (click)="updateSupplierDetails(true)" class="btn btn-success form-control">שמור</button>
              </div>
              <div class="col-5">

              </div>

            </div>

            <div class="row text-center">
              <div class="col-3">

              </div>
              <div class="col-3">
                <div *ngIf="allowUserEditItem">
                  <button class="btn btn-success form-control" id="updateDataBtn" (click)="editStockItemDetails()"
                    *ngIf="newItem!='new'">עדכן
                    מידע</button>
                </div>
              </div>
              <div class="col-3">
                <button class="btn btn-success form-control" id="newCbtn" (click)="clearFields()">Clear</button>
              </div>
              <div class="col-3">

              </div>
            </div>

          </div>
          <div class="container modal-inner">

            <div class="row text-center p-2">
              <div class="col-1">
                <img class="w-50 h-100" (click)="switchModalView(resCmpt.componentN)"
                  src="../../../../assets/images/refreshData.png">
              </div>
              <div class="col-10 text-center">
                <h3 class="text-success">Item Movements</h3>
              </div>
              <div class="col-1">
                <span class="close text-success" id="closeId2"
                  (click)="openModal=false;newItem='';lastOrdersOfItem = []">&times;</span>
              </div>
            </div>

            <div class="row text-center">
              <div class="col-4"></div>
              <div class="col-2">
                <label class="form-control"><b>{{lastYearOutAmount}}</b></label>
              </div>
              <div class="col-2">
                <label class="form-control">הוצאות שנה אחרונה</label>
              </div>
              <div class="col-4"></div>
            </div>

            <div class="row text-center p-2">
              <div class="col-12">
                <div style="overflow:scroll;height:500px;width:100%">
                  <table class="table table-striped table-hover">
                    <thead class="bg-success text-white">
                      <tr>
                        <th>Amount</th>
                        <th>In Stock</th>
                        <th>Movement Type</th>
                        <th>Date</th>
                        <th>Shelf</th>
                        <th>WhareHouse</th>
                      </tr>
                    </thead>
                    <div class= row text-center" *ngIf="itemMovements.length==0">
                      <div class="col-12 text-center">
                        <h4>No Movements for Item.</h4>
                      </div>
                    </div>
                    <tbody>
                      <ng-container *ngFor="let itemMovement of itemMovements">
                        <tr *ngIf="itemMovement.WH_originName != 'Filling'">
                          <td>{{itemMovement.amount}}</td>
                          <td>{{itemMovement.destShelfQntBefore}}</td>
                          <td>{{itemMovement.movementType}}</td>
                          <td>{{itemMovement.movementDate | date: 'dd/MM/yyyy'}}</td>
                          <td>{{itemMovement.shell_position_in_whareHouse_Origin}}</td>
                          <td>{{itemMovement.WH_originName}}</td>
                        </tr>
                      </ng-container>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <span class="close text-success" id="closeId2"
            (click)="openModal=false;newItem='';lastOrdersOfItem = []">&times;</span>
          <div class="row">
            <label>Number of orders: </label> &nbsp;
            <input type="text" #numOfOrders />
            <div class="col-1"></div>
            <button (click)="getLastOrdersItem(numOfOrders.value, 'component')">Watch History</button>
          </div>
          <div class="container modal-inner">
            <div class="smallLoader" *ngIf="fetchingOrders"></div>
            <div *ngIf="lastOrdersOfItem.length > 0" class="row text-center p-2">
              <div style="overflow:scroll;height:500px;width:100%">
                <h3>Purchase History for Item {{resCmpt.number}}</h3>
                <table class="table table-striped table-hover">
                  <thead class="bg-success text-white">
                    <tr>
                      <th>#</th>
                      <th>Order Number</th>
                      <th>Supplier</th>
                      <th>Status</th>
                      <th>Order Date</th>
                      <th>Arrival Date</th>
                      <th>Arrived Amount</th>
                      <th></th>
                      <th>Ordered Amount</th>
                      <th>Item Price (Foreign)</th>
                      <th>Item Price (NIS)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <ng-container *ngFor="let lastorderitem of lastOrdersOfItem; let i = index">
                      <tr>
                        <td>{{i+1}}</td>
                        <td>{{lastorderitem.orderNumber}}</td>
                        <td>{{lastorderitem.supplierName}}</td>
                        <td>{{lastorderitem.status}}</td>
                        <td>{{lastorderitem.orderDate | date: 'dd/MM/yyyy'}}</td>
                        <td><span *ngIf="lastorderitem.arrivalDate">{{lastorderitem.arrivalDate | date:
                            'dd/MM/yyyy'}}</span></td>
                        <td>{{lastorderitem.arrivedAmount}}</td>
                        <td>/</td>
                        <td>{{lastorderitem.quantity}}</td>
                        <td>{{lastorderitem.price | currency: lastorderitem.coin}}</td>
                        <td>{{lastorderitem.localPrice | currency: 'NIS'}}</td>
                      </tr>
                    </ng-container>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
    </div>








</div> -->