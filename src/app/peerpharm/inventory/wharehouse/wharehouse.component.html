<div class="container bg-white text-center">
  <mat-tab-group mat-align-tabs="end">

    <mat-tab label="ניהול סחורה">
      <div class="container p-3">
        <div class="row">
          <div class="col-12">
            <h2 class="text-info">קבלת סחורה למחסן</h2>
          </div>
        </div>
        <div class="row mt-5">
          <div class="col-1">

          </div>
          <div class="col-2">
            <button (click)="dirSet('stkManagment','watchShelfs')" class='btn btn-info'>צפיה במדף</button>
          </div>
          <div class="col-2">
            <button (click)="dirSet('stkManagment','in')" class='btn btn-info'>קבלת סחורה</button>
          </div>
          <div class="col-2">
            <button (click)="dirSet('stkManagment','out')" class='btn btn-info'>הוצאת סחורה</button>
          </div>
          <div class="col-2">
            <button (click)="dirSet('stkManagment','shelfChange')" class='btn btn-info'>שינוי מדף</button>
          </div>
          <div class="col-2">
            <button (click)="dirSet('stkManagment','production')" class='btn btn-info'>העברה לייצור</button>
          </div>
          <div class="col-1">

          </div>
       
        </div>

        <div class="row mt-5">
          <div class="col-12">
            <div>
              <h5 class="text-warning">ניהול סחורה - בחר מחסן</h5>
              <select class="form-control" #wh (change)="setWhareHouse(wh.value)">
                <option *ngFor="let wh of whareHouses;">{{wh.name}}</option>
              </select>&nbsp;&nbsp;
              <span class="text-danger mt-2">{{curentWhareHouseName}} Wharehouse</span>
              <span *ngIf='whareHouses.length == 0'><img src="../../../../assets/images/refreshData.png"
                  style="cursor: pointer; width: 40px; " (click)="getUserWhs()"> </span>
        
            </div>
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-12">
            <div class="container">
              <ng-container *ngIf="!multiInputLines">
                <form class="form-horizontal itemsList" [formGroup]="itemLine">
                  <div class="form-group row">
      
                    <div class="col-sm-2">
                      <label>מספר פריט</label>
                      <input type="text" class="form-control" placeholder="Item Number" formControlName="itemNumber"
                        (blur)="searchItemShelfs($event)">
                    </div>
                    <div *ngIf="dir == 'out'" class="col-sm-2">
                      <label>מספר הזמנה</label>
                      <input type="number" class="form-control" placeholder="Order Number" formControlName="relatedOrder">
                    </div>
                    <div class="col-sm-2">
                      <label>מדף</label>
                      <input type="text" class="form-control" placeholder="Position" formControlName="position">
                    </div>
                    <div class="col-sm-2">
                      <label>כמות</label>
                      <input type="number" class="form-control" placeholder="Amount" formControlName="amount" min="0">
                    </div>
                   
      
                    <!-- if taking out stock from wh -->
                    <!-- <div class="col-sm-3"  *ngIf="dir!='in' && dir!='shelfChange'"> 
                            <label>מס' הזמנה</label>
                            <input type="text" class="form-control" placeholder="Related Order Number" formControlName="relatedOrder">
                          </div> -->
                    <!-- if recieving stock to wh  -->
                    <div class="col-sm-2" *ngIf="dir=='in'">
                      <label>הגעת משלוח</label>
                      <input type="date" class="form-control" placeholder="Arrival Date" formControlName="arrivalDate">
                    </div>
                    <div class="col-sm-2" *ngIf="dir=='in'">
                      <label>תעודת משלוח</label>
                      <input type="text" class="form-control" placeholder="Delivery Note" formControlName="deliveryNote">
                    </div>
                    <div class="col-sm-3" *ngIf="dir=='shelfChange'">
                      <label>מדף חדש</label>
                      <input type="text" class="form-control" placeholder="New Position" formControlName="destShelf">
                    </div>
                    <div class="col-sm-1" style="position: relative;">
                      <button class="btn btn-info" type="submit" (click)="checkLineValidation(itemLine.value, $event.value)"
                        style="cursor: pointer; position: absolute; bottom: 0px;">
                      <i class="fa fa-plus text-white"></i>
                      </button>
                    </div>
                  </div>
                  <div *ngIf="dir=='in'">
                    <h4 class="text-info" (click)="open(packMaterialForm)"><u>טופס קבלת חומר אריזה</u></h4>
                  </div>
                  <div>
                    <label class="form-control">Item Position In {{curentWhareHouseName}} Wharehouse:</label>&nbsp;
                    <ng-container *ngFor="let shelf of currItemShelfs">
                      <span (click)="loadShelfToInput(shelf.position, $event)"
                        style="cursor: pointer;border-radius: 5px;border:1px solid rgb(167, 167, 167);padding: 5px;"><b>{{shelf.position}}</b>: {{shelf.amount}} units</span>&nbsp;&nbsp;
                    </ng-container>
                  </div>
                </form>
      
              </ng-container>
      
              <!-- multiLines for inventory requests load -->
              <ng-container *ngIf="multiInputLines">
                <div *ngFor="let itemFromInvReq of multiLinesArr ; let i = index">
                  <form class="form-horizontal itemsList">
                    <div class="form-group row">
      
                      <div class="col-sm-2">
                        <label>מספר פריט</label>
                        <input [attr.data-lineid]="i" type="text" class="form-control" placeholder="Item number"
                          [value]="itemFromInvReq.itemNumber" (blur)="searchItemShelfs()">
                      </div>
                      <div class="col-sm-2">
                        <label>מדף</label>
                        <input [attr.data-lineid]="i" type="text" class="form-control" placeholder="Position"
                          [value]="itemFromInvReq.position">
                      </div>
                      <div class="col-sm-1">
                        <label>כמות</label>
                        <input #lineqnt{{i}} [attr.data-lineid]="i" style="width:80px !important;" name="multiLineQntInput"
                          type="number" class="form-control" placeholder="Amount" min="0" [(ngModel)]="itemFromInvReq.qnt">
                      </div>
                      <!-- if taking out stock from wh -->
                      <div class="col-sm-4 row">
                        <div class="col-sm-4">
                          <label>מס' בקשת מלאי</label>
                          <input [attr.data-lineid]="i" type="text" class="form-control" placeholder="Related Request Number"
                            [value]="itemFromInvReq.reqNum" disabled>
                        </div>
                        <div class="col-sm-4">
                          <label>מס' הזמנה</label>
                          <input [attr.data-lineid]="i" type="text" class="form-control" placeholder="Related Order Number"
                            [value]="itemFromInvReq.relatedOrder" disabled>
                        </div>
                        <div class="col-sm-4">
                          <label>הערות</label>
                          <input [attr.data-lineid]="i" type="text" class="form-control" [value]="itemFromInvReq.remarks">
                        </div>
                      </div>
                      <div class="col-sm-1" style="position: relative;">
                        <button [attr.data-lineid]="i" type="submit"
                          (click)="checkLineValidation(itemFromInvReq,i, $event , qnt)"
                          style="cursor: pointer; position: absolute; bottom: 0px;">
                          <img src="assets/images/add.png" width="30px" style="cursor: pointer;" />
                        </button>
                      </div>
                      <div class="col-sm-1" style="position: relative;">
                        <button [attr.data-lineid]="i" type="button" (click)="deleteLine(itemFromInvReq,i,$event)"
                          style="cursor: pointer; position: absolute; bottom: 0px;">
                          <img src="assets/images/deleteBtn.png" width="30px" style="cursor: pointer;" />
                        </button>
                      </div>
                    </div>
      
                    <div>
                      <label>Item position in {{curentWhareHouseName}} Wharehouse:</label>&nbsp;
                      <ng-container *ngFor="let shelf of itemFromInvReq.currItemShelfs">
                        <span [attr.data-lineid]="i"
                          style="border: grey solid; border-style: outset; margin-left:5px; cursor:pointer; padding: 3px; cursor: pointer;"
                          (click)="loadShelfToInput(shelf.position, $event)">{{shelf.position}}: {{shelf.amount}}
                          units</span>&nbsp;&nbsp;
                      </ng-container>
                    </div>
                  </form>
      
                </div>
              </ng-container>
      
      
              <!--  --> <br>
              <div class="ShouldBeNav mt-5">
                <!-- <button class="btn btn-success" (click)="createInventoryRow('item' , this)">add / הוסף</button> &nbsp;&nbsp; -->
                <button class="btn btn-warning" (click)="cleanList()">Reset / אפס</button>&nbsp;&nbsp;
                <button class="btn btn-info" (click)="sendList()">Submit / שלח שינויים <i class="ti-check m-l-10"></i></button>
                <button (click)="printCertifAgain()" class="btn btn-success ml-3">Print</button>
              </div>
      
              <div class="row mt-3">
                <div class="col-3"></div>
                <div *ngIf="loadingToTable" class="col-3">
                  <img style="width:60px" src="http://avacdn.com/wp-content/uploads/2018/05/motosha-spinner.gif" />
                </div>
                <div *ngIf="!loadingToTable" class="col-3">
                </div>
                <div class="col-3"></div>
              </div>
           
      
              <div class="form-group row mt-5">
                <div class="col-sm-12">
                  <table class='table'>
                    <thead class='bg-info text-white'>
                      <tr>
                        <th>#</th>
                        <th>Item Number</th>
                        <th>Item Name</th>
                        <th>Position</th>
                        <th>Amount</th>
                        <th *ngIf="dir!='in'">Related Order</th>
                        <th *ngIf="dir=='in'">Arrival Date</th>
                        <th *ngIf="dir=='in'">Delivery Note</th>
                        <th></th>
                      </tr>
                    </thead>
                    <ng-container *ngFor="let reqItem of inventoryUpdateList; let i =index">
                      <tr>
                        <td>{{i+1}}</td>
                        <td>{{reqItem.item}}</td>
                        <td>{{reqItem.itemName}}</td>
                        <td>{{reqItem.position}}</td>
                        <td>{{reqItem.amount}}</td>
                        <td *ngIf="dir!='in'">{{reqItem.relatedOrder}}</td>
                        <td *ngIf="dir=='in'">{{reqItem.arrivalDate}}</td>
                        <td *ngIf="dir=='in'">{{reqItem.deliveryNoteNum}}</td>
                        <td><img src="assets/images/delete.png" (click)="deleteRow(i)" width="30px"
                            style="cursor: pointer;" /></td>
                      </tr>
                    </ng-container>
                  </table>
                </div>
               
              </div>
              <!-- </form> -->
            </div>
          </div>
        </div>

      </div>
    </mat-tab>
    <mat-tab label="ניהול מחסן">
      <div class="container p-2">
        <div class="row mt-2">
          <div class="col-12">
            <h2 class="text-info">ניהול מחסן</h2>
          </div>
        </div>

       
        
           
         
       

        <div class="row mt-2">
          <div class="container bg-light p-2">
            <div class="row">
              <div class="col-12">
                <h4 class="text-warning">הוספת מחסן חדש</h4>
              </div>
            </div>

            <div class="row">
              <div class="col-3"></div>
              <div class="col-3">
                <button id='updateWh' class='btn btn-warning form-control' (click)="addNewWhareHouse(whName.value)">הוסף מחסן חדש</button>
              </div>
              <div class="col-3"> 
                <input class="form-control" type=text id='wh' #whName placeholder="שם המחסן">
              </div>
              <div class="col-3"></div>
            </div>
          </div>
      
        
        </div>

  

        <div class="row mt-5">

          <div class="container bg-light p-2">
            <div class="row">
              <div class="col-12">
                <h4 class="text-warning">הוספת מדף חדש</h4>
              </div>
            </div>

            <div class="row mt-1">
              <div class="col-3"></div>
              <div class="col-3">
                <select #wh class="form-control" (change)="getShelfsList(wh.value)">
                  <option></option>
                  <option *ngFor="let wh of whareHouses;">{{wh.name}}</option>
                </select>
              </div>
              <div class="col-3">
                <label class="form-control">בחר מחסן</label>
             
              </div>
              <div class="col-3"></div>
            </div>

            <div class="row mt-2">
              <div class="col-12">
                <h5>הוספת/חיפוש מדף</h5>
              </div>
            </div>

            <div class="row mt-2">
              <div class="col-3"></div>
              <div class="col-3">
                <button class='btn btn-success form-control' (click)="addNewShelf(shelf.value)">הוסף מדף</button>
              </div>
              <div class="col-3">
                <input class="form-control" #shelf placeholder="הוסף מדף">
              </div>
             
              <div class="col-3"></div>
            </div>
            <div class="row">
              <div class="col-3"></div>
              <div class="col-3">
                <button class='btn btn-info form-control' (click)="searchShelf(searchS.value)">מצא מדף</button>
              </div>
              <div class="col-3">
                
                <input class="form-control" #searchS placeholder="חפש מדף">
              </div>
              <div class="col-3"></div>
            </div>

          </div>

        
        </div>

       

    

        <div class="row">
          <div class="col-12">
            <div [style.background-color]="response.color">{{response.body}}</div>
            <table>
              <tr *ngFor="let shelf of shelfs;">
                <td>{{shelf._id}}</td>
                <td>{{shelf.position}}</td>
              </tr>
            </table>
          </div>
        </div>
         

        </div>
   
    </mat-tab>
  </mat-tab-group>
</div>

<!-- <div style='width:100vw;' class="row">
  <div style='display: inline-block; vertical-align: top; ' class="col-sm-7 managingDiv">

    <br>

    <ul class="nav nav-tabs justify-content-end">
      <li class="nav-item">
        <a class="nav-link" style="cursor:pointer;" (click)="dirSet('whManagment','')"
          [ngStyle]="{'background-color': WhMngNavBtnColor}">ניהול מחסן</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" style="cursor:pointer;" (click)="dirSet('stkManagment','')"
          [ngStyle]="{'background-color': StkMngNavBtnColor}">ניהול סחורה</a>
      </li>
    </ul>

    <div class="container" style="float: right;">
      <table style="float: right;">
  

        <tr *ngIf="screen=='stkManagment' ">

          <td>
            <button (click)="dirSet('stkManagment','watchShelfs')" class='btn btn-info'>צפיה במדף</button>
          </td>
          <td>
            <button (click)="dirSet('stkManagment','in')" class='btn btn-info'>קבלת סחורה</button>
          </td>
          <td>
            <button (click)="dirSet('stkManagment','out')" class='btn btn-info'>הוצאת סחורה</button>
          </td>
          <td>
            <button (click)="dirSet('stkManagment','shelfChange')" class='btn btn-info'>שינוי מדף</button>
          </td>
   
          <td>
            <button (click)="dirSet('stkManagment','production')" class='btn btn-info'>העברה לייצור</button>
          </td>

        </tr>
      </table>

      <div style="float: right;">
        <h2>{{ dir | headingsWH  }}</h2>
      </div>
    </div>


    <br>


    <div *ngIf="screen=='stkManagment' ">
      <h5>ניהול סחורה - בחר מחסן</h5>
      <select #wh (change)="setWhareHouse(wh.value)">
        <option *ngFor="let wh of whareHouses;">{{wh.name}}</option>
      </select>&nbsp;&nbsp;
      <span>{{curentWhareHouseName}} Wharehouse</span>
      <span *ngIf='whareHouses.length == 0'><img src="../../../../assets/images/refreshData.png"
          style="cursor: pointer; width: 40px; " (click)="getUserWhs()"> </span>

      <br>
    </div>
    <br>






    <div *ngIf="dir!='' && dir!='managment'  && dir!='watchShelfs'">


      <div class="container">
        <ng-container *ngIf="!multiInputLines">
          <form class="form-horizontal itemsList" [formGroup]="itemLine">
            <div class="form-group row">

              <div class="col-sm-2">
                <label>מספר פריט</label>
                <input type="text" class="form-control" placeholder="Item number" formControlName="itemNumber"
                  (blur)="searchItemShelfs($event)">
              </div>
              <div *ngIf="dir == 'out'" class="col-sm-2">
                <label>מספר הזמנה</label>
                <input type="number" class="form-control" placeholder="Order Number" formControlName="relatedOrder">
              </div>
              <div class="col-sm-2">
                <label>מדף</label>
                <input type="text" class="form-control" placeholder="Position" formControlName="position">
              </div>
              <div class="col-sm-2">
                <label>כמות</label>
                <input type="number" class="form-control" placeholder="Amount" formControlName="amount" min="0">
              </div>
             

  
              <div class="col-sm-2" *ngIf="dir=='in'">
                <label>הגעת משלוח</label>
                <input type="date" class="form-control" placeholder="Arrival Date" formControlName="arrivalDate">
              </div>
              <div class="col-sm-2" *ngIf="dir=='in'">
                <label>תעודת משלוח</label>
                <input type="text" class="form-control" placeholder="Delivery Note" formControlName="deliveryNote">
              </div>
              <div class="col-sm-3" *ngIf="dir=='shelfChange'">
                <label>מדף חדש</label>
                <input type="text" class="form-control" placeholder="New Position" formControlName="destShelf">
              </div>
              <div class="col-sm-1" style="position: relative;">
                <button type="submit" (click)="checkLineValidation(itemLine.value, $event.value)"
                  style="cursor: pointer; position: absolute; bottom: 0px;">
                  <img src="assets/images/add.png" width="30px" style="cursor: pointer;" />
                </button>
              </div>
            </div>
            <div *ngIf="dir=='in'">
              <h3 (click)="open(packMaterialForm)"><u>טופס קבלת חומר אריזה</u></h3>
            </div>
            <div>
              <label class="form-control">Item Position In {{curentWhareHouseName}} Wharehouse:</label>&nbsp;
              <ng-container *ngFor="let shelf of currItemShelfs">
                <span (click)="loadShelfToInput(shelf.position, $event)"
                  style="cursor: pointer;padding:5px;border:1px solid rgb(163, 163, 163);border-radius: 5px;"><b>{{shelf.position}}</b>: {{shelf.amount}} Units</span>&nbsp;&nbsp;
              </ng-container>
            </div>
          </form>

        </ng-container>


        <ng-container *ngIf="multiInputLines">
          <div *ngFor="let itemFromInvReq of multiLinesArr ; let i = index">
            <form class="form-horizontal itemsList">
              <div class="form-group row">

                <div class="col-sm-2">
                  <label>מספר פריט</label>
                  <input [attr.data-lineid]="i" type="text" class="form-control" placeholder="Item number"
                    [value]="itemFromInvReq.itemNumber" (blur)="searchItemShelfs()">
                </div>
                <div class="col-sm-2">
                  <label>מדף</label>
                  <input [attr.data-lineid]="i" type="text" class="form-control" placeholder="Position"
                    [value]="itemFromInvReq.position">
                </div>
                <div class="col-sm-1">
                  <label>כמות</label>
                  <input #lineqnt{{i}} [attr.data-lineid]="i" style="width:80px !important;" name="multiLineQntInput"
                    type="number" class="form-control" placeholder="Amount" min="0" [(ngModel)]="itemFromInvReq.qnt">
                </div>
     
                <div class="col-sm-4 row">
                  <div class="col-sm-4">
                    <label>מס' בקשת מלאי</label>
                    <input [attr.data-lineid]="i" type="text" class="form-control" placeholder="Related Request Number"
                      [value]="itemFromInvReq.reqNum" disabled>
                  </div>
                  <div class="col-sm-4">
                    <label>מס' הזמנה</label>
                    <input [attr.data-lineid]="i" type="text" class="form-control" placeholder="Related Order Number"
                      [value]="itemFromInvReq.relatedOrder" disabled>
                  </div>
                  <div class="col-sm-4">
                    <label>הערות</label>
                    <input [attr.data-lineid]="i" type="text" class="form-control" [value]="itemFromInvReq.remarks">
                  </div>
                </div>
                <div class="col-sm-1" style="position: relative;">
                  <button [attr.data-lineid]="i" type="submit"
                    (click)="checkLineValidation(itemFromInvReq,i, $event , qnt)"
                    style="cursor: pointer; position: absolute; bottom: 0px;">
                    <img src="assets/images/add.png" width="30px" style="cursor: pointer;" />
                  </button>
                </div>
                <div class="col-sm-1" style="position: relative;">
                  <button [attr.data-lineid]="i" type="button" (click)="deleteLine(itemFromInvReq,i,$event)"
                    style="cursor: pointer; position: absolute; bottom: 0px;">
                    <img src="assets/images/deleteBtn.png" width="30px" style="cursor: pointer;" />
                  </button>
                </div>
              </div>

              <div>
                <label>Item position in {{curentWhareHouseName}} Wharehouse:</label>&nbsp;
                <ng-container *ngFor="let shelf of itemFromInvReq.currItemShelfs">
                  <span [attr.data-lineid]="i"
                    style="border: grey solid; border-style: outset; margin-left:5px; cursor:pointer; padding: 3px; cursor: pointer;"
                    (click)="loadShelfToInput(shelf.position, $event)">{{shelf.position}}: {{shelf.amount}}
                    units</span>&nbsp;&nbsp;
                </ng-container>
              </div>
            </form>

          </div>
        </ng-container>


  <br>
        <div class="ShouldBeNav">
 
          <button class="btn btn-warning" (click)="cleanList()">Reset / אפס</button>&nbsp;&nbsp;
          <button class="btn btn-info" (click)="sendList()">Submit / שלח שינויים <i class="ti-check m-l-10"></i></button>
          <button (click)="printCertifAgain()" class="btn btn-success ml-3">Print</button>
        </div>

        <br>

        <div class="form-group row">
          <div class="col-sm-8">
            <table class='table'>
              <thead class='bg-info text-white'>
                <tr>
                  <th>#</th>
                  <th>Item number</th>
                  <th>Item name</th>
                  <th>Position</th>
                  <th>Amount</th>
                  <th *ngIf="dir!='in'">Related Order</th>
                  <th *ngIf="dir=='in'">Arrival Date</th>
                  <th *ngIf="dir=='in'">Delivery Note</th>
                  <th></th>
                </tr>
              </thead>
              <ng-container *ngFor="let reqItem of inventoryUpdateList; let i =index">
                <tr>
                  <td>{{i+1}}</td>
                  <td>{{reqItem.item}}</td>
                  <td>{{reqItem.itemName}}</td>
                  <td>{{reqItem.position}}</td>
                  <td>{{reqItem.amount}}</td>
                  <td *ngIf="dir!='in'">{{reqItem.relatedOrder}}</td>
                  <td *ngIf="dir=='in'">{{reqItem.arrivalDate}}</td>
                  <td *ngIf="dir=='in'">{{reqItem.deliveryNoteNum}}</td>
                  <td><img src="assets/images/delete.png" (click)="deleteRow(i)" width="30px"
                      style="cursor: pointer;" /></td>
                </tr>
              </ng-container>
            </table>
          </div>
          <div *ngIf="loadingToTable" class="col-sm-3">
            <img style="width:60px" src="http://avacdn.com/wp-content/uploads/2018/05/motosha-spinner.gif" />
          </div>
          <div *ngIf="!loadingToTable" class="col-sm-3">
          </div>
        </div>
  
      </div>

    </div>

    <br><br>




    <div *ngIf="dir=='watchShelfs'">
      <form>
        <h4>צפיה בפריטים על מדף</h4>
        <input #shelfSearch type="text" placeholder="מדף">
        <button (click)="searchItemsOnShelf()">חפש</button>

        <table class='table'>
          <thead class='bg-info text-white'>
            <tr>
              <th>#</th>
              <th>Item number</th>
              <th>Item name</th>
              <th>Position</th>
              <th>Amount on Shelf</th>
              <th>Image</th>
            </tr>
          </thead>
          <ng-container *ngFor="let item of ItemsOnShelf; let i =index">
            <tr>
              <td>{{i+1}}</td>
              <td>{{item.item}}</td>
              <td>{{item.componentName}}</td>
              <td>{{item.position}}</td>
              <td>{{item.amount}}</td>
              <td><img [src]="item.img" alt="item image" width="70px"></td>
            </tr>
          </ng-container>
        </table>

      </form>
    </div>








    <div #container style='display: inline-table' *ngIf="dir!=''">

    </div>





    <div style='display: inline-table' *ngIf="dir=='managment'">
      <h4>הוספת מחסן חדש</h4>
      <input type=text id='wh' #whName placeholder="WhareHouse Name">
      <button id='updateWh' class='btn btn-info' (click)="addNewWhareHouse(whName.value)">Add New
        WhareHouse</button><br><br>

      <div id='resultDiv' style='background-color: #D6D6D6  ;width:300px; font-weight: bold;'>

      </div>

      <h4>הוספת מדף חדש</h4>
      <u>בחר מחסן</u> <br>
      <select #wh class="form-control" (change)="getShelfsList(wh.value)">
        <option></option>
        <option *ngFor="let wh of whareHouses;">{{wh.name}}</option>
      </select>


      <h5>הוספת/חיפוש מדף</h5>
      <div id='whareHousesDiv' style='background-color: rgb(223, 255, 194)  ;width:300px; font-weight: bold;'>
        <input #shelf placeholder="הוסף מדף"><button class='btn btn-success' (click)="addNewShelf(shelf.value)">Add
          Shelf</button>

        <input #searchS placeholder="חפש מדף">
        <button class='btn btn-info' (click)="searchShelf(searchS.value)">Find Shelf</button>

        <div [style.background-color]="response.color">{{response.body}}</div>
        <table>
          <tr *ngFor="let shelf of shelfs;">
            <td>{{shelf._id}}</td>
            <td>{{shelf.position}}</td>
          </tr>
        </table>
      </div>
      <div id='shell_wh_div' style='background-color: #D6D6D6  ;width:300px; font-weight: bold;'>
      </div>

    </div>
  </div>


</div> -->


<div>
  <div id="print-section" style="direction: rtl; text-align: right; display: none; ">
    <header>
      <h1>פאר פארם בע"מ</h1>
      <p>עמל 17 אזור תעשיה ,אפק ראש העין 4809256 </p>
      <p>
        <span>טלפון 03-9024055</span>&nbsp;&nbsp;
        <span>פקס 03-9024015</span>&nbsp;&nbsp;
        <span>דואר אלקטרוני peerpharm@barak.net.il</span>&nbsp;&nbsp;
        <span>ח.פ: 511899023</span>
      </p>
    </header>
    <main>
      <h2>תעודת העברה</h2>
      <p class='originDestWh'>
        <span><u>ממחסן:</u></span>&nbsp;&nbsp;
        <span *ngIf="curentWhareHouseName=='Kasem'">רכיבים-קאסם</span>&nbsp;&nbsp;
        <span *ngIf="curentWhareHouseName=='Rosh HaAyin'">רכיבים-ראש העין</span>&nbsp;&nbsp;
        <span><u>למחסן:</u></span>&nbsp;&nbsp;
        <span *ngIf="curentWhareHouseName=='Rosh HaAyin'">רכיבים-קאסם</span>&nbsp;&nbsp;&nbsp;
        <span *ngIf="curentWhareHouseName=='Kasem'">רכיבים-ראש העין</span>&nbsp;&nbsp;&nbsp;
        <span ></span>
        <span><u>תאריך:</u></span>&nbsp;&nbsp;
        <span>{{today  | date :'dd-MM-yyyy'  }}</span>&nbsp;&nbsp;

      </p>
      <br>
      <table>
        <tbody>
          <tr>
            <th>#</th>
            <th>מספר הזמנה</th>
            <th>מספר פריט</th>
            <th>מיקום</th>
            <th>כמות</th>
            <th class='itemNamePrint'>שם פריט</th>
            <th>פריט מק"ט ספק</th>
           
          </tr>
          <ng-container *ngFor="let reqItem of listToPrint; let i =index">
            <tr>
              <td class="cellPadding">{{i+1}}</td>
              <td>{{reqItem.relatedOrderNum}}</td>
              <td>{{reqItem.item}}</td>
              <td>{{reqItem.position}}</td>
              <td>{{reqItem.amount}}</td>
              <td class='itemNamePrint'>{{reqItem.itemName}}</td>
              <td>{{reqItem.supplierItemNumber}}</td>
         
            </tr>
          </ng-container>
        </tbody>
      </table>
    </main>
    <div class="signatures">
      <p>
        <span>שם המקבל:</span>&nbsp;&nbsp;
        <span>
          <u>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </u>
        </span>&nbsp;&nbsp;
        <span>חתימה:</span>&nbsp;&nbsp;
        <span>
          <u>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </u>
        </span>&nbsp;&nbsp;
        <span>תאריך:</span>&nbsp;&nbsp;
        <span>
          <u>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </u>
        </span>&nbsp;&nbsp;
      </p>
    </div>
    <footer>
    </footer>
  </div>
  <button style='display: none;' #printBtn [printStyle]="{body : {'text-align': 'right', 'direction':'rtl'}, 
      header : {'border-bottom': 'solid 1px'},
      main : {'border-bottom': 'solid 1px' },
      table :{ 'text-align': 'right' },
      footer : { 'position': 'absolute' , 'width': '100%' },
      h2 : {'text-align': 'center'},
      '.originDestWh':{'text-align':'right'},
      th : {'width': '16%' },
      td : {'width': '16%' },
      '.itemNamePrint' : {'width': '35%'},
      '.signatures' : { 'margin' : '50px'},
      '.cellPadding' : { 'padding' : '15px 0px'}
      }" printTitle="תעודת העברה" printSectionId="print-section" ngxPrint>print</button>
  <!-- <button (click)="printStockTransferCertificate()">click</button> -->
</div>
<!-- '.reciverNameLine' : {'width': '100px'},
'.reciverSignatureLine' : {'width': '100px'},
'.reciverDateLine' : {'width': '100px'}, -->

<!-- '.signatures > p > span'  : {'width': '70px', 'display': 'inline-block' , 'border-bottom' : 'solid 1px'} -->

<ng-template #packMaterialForm let-modal>
  <div class="modal-header">
    <h4 class="modal-title" style="text-align:center;margin-left:auto;margin-right:auto;" id="modal-basic-title">טופס
      קבלת חומר אריזה</h4>
  </div>
  <div class="modal-body">
    <table class='table'>
      <thead style="background-color: rgb(230, 233, 236);">

      </thead>
      <tbody id="table_body" dir="rtl">
        <tr style="background-color: rgb(230, 233, 236);">
          <td>במידה ולא:<input [(ngModel)]="packingMaterialCheck.orderCompareIfFalse" type="text"/></td>
          <td>כן<input [(ngModel)]="packingMaterialCheck.orderCompareTrue" type="checkbox" /></td>
          <td>וודא שהחומר אריזה שהתקבל מתאים להזמנה</td>

        </tr>
        <tr>
            <td>במידה ולא:<input [(ngModel)]="packingMaterialCheck.packageQuantityIfFalse" style="background: rgb(230, 233, 236)" type="text"/></td>
            <td>כן<input checked [(ngModel)]="packingMaterialCheck.packageQuantityTrue" type="checkbox" /></td>
          <td>וודא שהאריזה שהתקבלה בכמות שהוזמנה</td>
        </tr>
        <tr style="background-color: rgb(230, 233, 236);">
            <td>במידה ולא:<input [(ngModel)]="packingMaterialCheck.packageCompleteIfFalse" type="text"/></td>
            <td>כן<input  checked [(ngModel)]="packingMaterialCheck.packageCompleteTrue" type="checkbox" /></td>
          <td>וודא שהאריזות שלמות ואין פגיעות במוצרים</td>
        </tr>
        <tr>
            <td>במידה ולא:<input [(ngModel)]="packingMaterialCheck.packageSealedIfFalse" style="background: rgb(230, 233, 236)" type="text"/></td>
            <td>כן<input checked [(ngModel)]="packingMaterialCheck.packageSealedTrue" type="checkbox" /></td>
          <td>וודא שהאריזות אטומות לכניסה של אבק</td>
        </tr>
        <tr style="background-color: rgb(230, 233, 236);">
            <td>במידה ולא:<input [(ngModel)]="packingMaterialCheck.printingCompleteIfFalse" type="text"/></td>
            <td>כן<input checked [(ngModel)]="packingMaterialCheck.printingCompleteTrue" type="checkbox" /></td>
          <td>במידה והתקבל חומר אריזה מודפס - נא וודא תקינות ההדפסה לנדרש</td>
        </tr>
        <tr>
          <td></td>
          <td><span>הערות:</span><input [(ngModel)]="packingMaterialCheck.remarks" type="text"/></td>
          
          
        </tr>
        <tr>
          <td>חתימה:<input [(ngModel)]="packingMaterialCheck.signature" type="text"/></td>
        </tr>
      
      </tbody>
    </table>
  </div>
  <div class="modal-footer">
      <button class="btn btn-success" (click)="sendPackingMaterialCheck()">שלח</button>
  </div>
</ng-template>



<div id="print-section2" style="direction: rtl; text-align: right; display: none; ">
    <header>
      <h1>פאר פארם בע"מ</h1>
      <p>עמל 17 אזור תעשיה ,אפק ראש העין 4809256 </p>
      <p>
        <span>טלפון 03-9024055</span>&nbsp;&nbsp;
        <span>פקס 03-9024015</span>&nbsp;&nbsp;
        <span>דואר אלקטרוני peerpharm@barak.net.il</span>&nbsp;&nbsp;
        <span>ח.פ: 511899023</span>
      </p>
    </header>
    <main>
      <h2>תעודת קבלה</h2>
      <p class='originDestWh'>
        <span><u>ממחסן:</u></span>&nbsp;&nbsp;
        <span *ngIf="curentWhareHouseName=='Kasem'">רכיבים-קאסם</span>&nbsp;&nbsp;
        <span *ngIf="curentWhareHouseName=='Rosh HaAyin'">רכיבים-ראש העין</span>&nbsp;&nbsp;
        <span><u>למחסן:</u></span>&nbsp;&nbsp;
        <span *ngIf="curentWhareHouseName=='Rosh HaAyin'">רכיבים-קאסם</span>&nbsp;&nbsp;&nbsp;
        <span *ngIf="curentWhareHouseName=='Kasem'">רכיבים-ראש העין</span>&nbsp;&nbsp;&nbsp;
        <span ></span>
        <span><u>תאריך:</u></span>&nbsp;&nbsp;
        <span>{{today  | date :'dd-MM-yyyy'  }}</span>&nbsp;&nbsp;

      </p>
      <br>
      <table>
        <tbody>
          <tr>
            <th>#</th>
            <th>מספר פריט</th>
            <th>מיקום</th>
            <th>כמות</th>
            <th class='itemNamePrint'>שם פריט</th>
            <th>פריט מק"ט ספק</th>
          
          </tr>
          <ng-container *ngFor="let reqItem of listToPrint; let i =index">
            <tr>
              <td class="cellPadding">{{i+1}}</td>
              <td>{{reqItem.item}}</td>
              <td>{{reqItem.position}}</td>
              <td>{{reqItem.amount}}</td>
              <td class='itemNamePrint'>{{reqItem.itemName}}</td>
              <td>{{reqItem.supplierItemNumber}}</td>
            
            </tr>
          </ng-container>
        </tbody>
      </table>
    </main>
    <div class="signatures">
      <p>
        <span>שם המקבל:</span>&nbsp;&nbsp;
        <span>
          <u>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </u>
        </span>&nbsp;&nbsp;
        <span>חתימה:</span>&nbsp;&nbsp;
        <span>
          <u>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </u>
        </span>&nbsp;&nbsp;
        <span>תאריך:</span>&nbsp;&nbsp;
        <span>
          <u>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </u>
        </span>&nbsp;&nbsp;
      </p>
    </div>
    <footer>
    </footer>
  </div>
  <button style='display: none;' #printBtn2 [printStyle]="{body : {'text-align': 'right', 'direction':'rtl'}, 
      header : {'border-bottom': 'solid 1px'},
      main : {'border-bottom': 'solid 1px' },
      table :{ 'text-align': 'right' },
      footer : { 'position': 'absolute' , 'width': '100%' },
      h2 : {'text-align': 'center'},
      '.originDestWh':{'text-align':'right'},
      th : {'width': '16%' },
      td : {'width': '16%' },
      '.itemNamePrint' : {'width': '35%'},
      '.signatures' : { 'margin' : '50px'},
      '.cellPadding' : { 'padding' : '15px 0px'}
      }" printTitle="תעודת קבלה" printSectionId="print-section2" ngxPrint>print</button>
  <!-- <button (click)="printStockTransferCertificate()">click</button> -->
