<br>
<table class='table table-fixed'>
    <thead class='bg-info text-white'  >
      <tr>
        <th style="width:5%;">#</th>
        <th style="width:10%;">מספר פריט</th>
        <th style="width:20%; padding:5px">שם חו"ג</th>
        <th style="width:10%; padding:5px">מספר ספק</th>
        <th style="width:10%; padding:5px">שם ספק</th>
        <th style="width:10%; padding:5px">אצוות יצרן</th>
        <th style="width:10%; padding:5px">תאריך תפוגה</th>
        <th style="width:5%; padding:5px">אנליזה</th>
        <th style="width:10%; padding:5px">תאריך הגעה</th>
        <th style="width:5%; padding:5px">הדפסה</th>
        <th style="width:5%;"></th>
      </tr>
    </thead>
    <tbody class='table-hover'>
        <tr *ngFor="let arrival of materialsArrivals; let i = index" >
            <td style="width:5%;">{{i+1}}</td>

            <td *ngIf="arrival._id != EditRowId"  (click)="edit(arrival._id)" style="width:10%;">{{arrival.internalNumber}}</td>

            <td *ngIf="arrival._id==EditRowId"  (click)="edit(arrival._id)" style="width:10%;">
              <input  #internalNumber type='text' disabled [value]="arrival.internalNumber" style='width:170px'>
            </td>

            <td *ngIf="arrival._id!=EditRowId" (click)="edit(arrival._id)" style="width:20%; padding:5px">{{arrival.materialName}}</td>
            <td *ngIf="arrival._id==EditRowId"  style="width:20%; padding:5px">
              <input #materName type='text' disabled [value]="arrival.materialName" style='width:170px'>
            </td>

            <td *ngIf="arrival._id!=EditRowId" (click)="edit(arrival._id)" style="width:10%; padding:5px">{{arrival.supplierNumber}}</td>
            <td *ngIf="arrival._id==EditRowId"  style="width:10%; padding:5px">
              <input disabed #supplierNumber  type='text'  [value]="arrival.supplierNumber" style='width:170px'>
            </td>

            <td *ngIf="arrival._id!=EditRowId" (click)="edit(arrival._id)" style="width:10%; padding:5px">{{arrival.supplierName}}</td>
            <td  *ngIf="arrival._id==EditRowId"  style="width:10%; padding:5px">
              <!-- <input #supplierName type='text' [value]="arrival.supplierName" style='width:170px'> -->
              
              <input class="form-control is-valid"  #supplierName type="text" [value]="arrival.supplierName" name='supplierName' (keyup)="filterSuppliers(supplierName.value)">
              <ul *ngIf="supplierName.value !=''" class="list-group" id="myList" style="overflow-y: scroll; max-height: 200px;">
                <li *ngFor="let sup of suppliersList" class="list-group-item" (click)="chooseSupplierFromList(sup,$event)" style="cursor:pointer;">{{sup.suplierName}}</li>
              </ul>  
            </td>

            <td *ngIf="arrival._id!=EditRowId" (click)="edit(arrival._id)" style="width:10%; padding:5px">{{arrival.lotNumber}}</td>
            <td *ngIf="arrival._id==EditRowId"  style="width:10%; padding:5px">
              <input #lotNum  type='text' [value]="arrival.lotNumber" style='width:170px'>
            </td>

            <td *ngIf="arrival._id!=EditRowId" (click)="edit(arrival._id)" style="width:10%; padding:5px">{{arrival.expiryDate | date: "dd/MM/yyyy" }}</td>
            <td *ngIf="arrival._id==EditRowId"  style="width:10%; padding:5px">
              <input #expireDate type='date' [value]="dateString" style='width:170px'>
            </td>

            <td *ngIf="arrival._id!=EditRowId" (click)="edit(arrival._id)" style="width:5%; padding:5px">{{arrival.analysisApproval}}</td>
            <td  *ngIf="arrival._id==EditRowId"  style="width:5%; padding:5px">
              <input #analysisApproval type='text' [value]="arrival.analysisApproval" style='width:170px'>
            </td>

            <td *ngIf="arrival._id!=EditRowId" (click)="edit(arrival._id)" style="width:10%; padding:5px">{{arrival.arrivalDate | date: "dd/MM/yyyy" }}</td>
            <td *ngIf="arrival._id==EditRowId"  style="width:10%; padding:5px">
              <input #arriveDate type='date' disabled [value]="dateString2" style='width:170px'>
            </td>

            <td *ngIf="arrival._id!=EditRowId" (click)="edit(arrival._id)" style="width:5%; padding:5px">
              <img src="../../../../assets/images/printer.jpg" style="width: 40px; cursor: pointer;" (click)="printBarcode(arrival._id)">
            </td>
            <td *ngIf="arrival._id==EditRowId"  style="width:5%; padding:5px">
              <i class="ti-save text-success m-r-10" style="cursor: pointer"  (click)="saveLineChanges(arrival)"></i>
            </td>
            <td style="width:5%;"></td>
          </tr>
    </tbody>
    </table>


    <!-- 
    [printStyle]="{ 'body' : {'margin-top': '5px' }, '#itemNumber': {'margin-top': '10px'  }, 'table' : {'text-align': 'right','width': '80%'} }"
     -->

              <!-- PRINT BARCODE SECTION -->
            <div style="visibility: hidden;">
                <!-- <button #printBtn style="visibility: hidden" -->
              <button #printBtn 
              [printStyle]="{ 'body' : {'margin-top': '20px' }, 'table' : {'text-align': 'center','width': '100%'} , 'td': {'border-top': 'solid black 1px'} }"
              printSectionId="print-section"
              ngxPrint>print
              </button>
    
                <!-- <div class="row clearfix" id="print-section" style="visibility: hidden"> -->
              <div class="row clearfix" id="print-section" style="visibility: hidden">
                  <table
                    class="barcodeTbl"
                    dir="rtl"
                    [style.margin.px]="1"
                    [style.width.px]="600"
                    [style.max-height.px]="300"
                    [style.font-size.px]="40"
                    style.font-weight="bold"
                    style.font-family="Arial"
                    style.float="right"
                    
                  >
                  <tr dir="ltr">
                    <td colspan="2" *ngIf="!smallText" [style.font-size.px]="40">{{ materialName }}</td>
                    <td colspan="2" *ngIf="smallText" [style.font-size.px]="25">{{ materialName }}</td>
                  </tr>  
                  <tr>
                    <td colspan="2" id='itemNumber'>מק"ט: {{ materialNum }}</td>
                  </tr>
                  <tr>
                      <td>אצווה: {{ lotNumber }}</td>
                      <td>ת.תפוגה: {{ expiryDate | date: 'dd/MM/yyyy' }}</td>
                  </tr>
                  <tr>
                    <td colspan="2">ת.יצור: {{ productionDate | date: 'dd/MM/yyyy' }}</td>
                  </tr>
                  <tr>
                    <td colspan="2">ת.קבלה: {{ arrivalDate | date: 'dd/MM/yyyy' }}</td>
                  </tr>
                  <tr>
                  </tr>

                  <tr>
                    <td colspan="2" id='barcode'>
                      
                    <ngx-barcode 
                    [bc-element-type]="elementType" 
                    [bc-value]="bcValue" 
                    [bc-format]="format" 
                    [bc-line-color]="lineColor"
                    [bc-width]="width"
                    [bc-height]="height" 
                    [bc-display-value]="displayValue" 
                    [bc-font-options]="fontOptions" 
                    [bc-font]="font"
                    [bc-text-align]="textAlign" 
                    [bc-text-position]="textPosition" 
                    [bc-text-margin]="textMargin" 
                    [bc-font-size]="fontSize" 
                    [bc-background]="background"
                    [bc-margin]="margin"  
                    [bc-margin-top]="marginTop" 
                    [bc-margin-bottom]="marginBottom" 
                    [bc-margin-left]="marginLeft" 
                    [bc-margin-right]="marginRight">
                  </ngx-barcode>
                    </td>
                  </tr>
                  <!-- <tr>
                    <td  >{{ bcValue }}</td>
                  </tr> -->
                </table>
              </div>
            </div>